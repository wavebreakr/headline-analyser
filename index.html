<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Readability & Simplifier</title>

<style>
:root {
  --bg: #0e0f11;
  --panel: rgba(255,255,255,0.08);
  --border: rgba(255,255,255,0.15);
  --text: #ffffff;
  --muted: rgba(255,255,255,0.6);
  --accent: #4ade80;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background: radial-gradient(circle at top, #1a1b1f, #0e0f11);
  color: var(--text);
}

.container {
  max-width: 760px;
  margin: 32px auto;
  padding: 16px;
}

.card {
  background: var(--panel);
  backdrop-filter: blur(14px);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 16px;
}

textarea {
  width: 100%;
  min-height: 160px;
  resize: vertical;
  background: transparent;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 12px;
  color: var(--text);
  font-size: 16px;
}

textarea:focus {
  outline: none;
  border-color: var(--accent);
}

.metrics {
  display: grid;
  grid-template-columns: repeat(2,1fr);
  gap: 12px;
  margin-top: 16px;
}

.metric {
  background: rgba(255,255,255,0.05);
  border-radius: 12px;
  padding: 12px;
}

.metric strong {
  display: block;
  font-size: 18px;
}

.metric span {
  font-size: 13px;
  color: var(--muted);
}

.actions {
  display: flex;
  gap: 12px;
  margin-top: 16px;
}

button {
  flex: 1;
  padding: 12px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.08);
  color: var(--text);
  font-size: 15px;
  cursor: pointer;
}

button:hover {
  border-color: var(--accent);
}

.output {
  margin-top: 20px;
  padding: 12px;
  border-radius: 12px;
  background: rgba(255,255,255,0.05);
  border: 1px solid var(--border);
  font-size: 16px;
  line-height: 1.6;
}

.highlight {
  background: rgba(74, 222, 128, 0.25);
  padding: 2px 4px;
  border-radius: 6px;
}
</style>
</head>

<body>
<div class="container">
  <div class="card">
    <h2>Readability Analyzer</h2>
    <p class="muted">Paste text to see clarity + simplify it.</p>

    <textarea id="input" placeholder="Paste your text here..."></textarea>

    <div class="metrics">
      <div class="metric">
        <strong id="wordCount">0</strong>
        <span>Words</span>
      </div>
      <div class="metric">
        <strong id="readingEase">—</strong>
        <span>Reading Ease</span>
      </div>
      <div class="metric">
        <strong id="longWords">0%</strong>
        <span>Complex words</span>
      </div>
      <div class="metric">
        <strong id="passiveVoice">0%</strong>
        <span>Passive voice</span>
      </div>
    </div>

    <div class="actions">
      <button onclick="simplify()">One-click simplify</button>
      <button onclick="resetText()">Reset</button>
    </div>

    <div id="output" class="output" style="display:none;"></div>
  </div>
</div>

<script>
const simplifyMap = {
  "in order to": "to",
  "utilize": "use",
  "commence": "start",
  "approximately": "about",
  "prior to": "before",
  "subsequent to": "after",
  "sufficient": "enough",
  "numerous": "many",
  "facilitate": "help",
  "implement": "do",
  "demonstrate": "show",
  "objective": "goal",
  "assistance": "help",
  "purchase": "buy",
  "require": "need",
  "individuals": "people"
};

const input = document.getElementById("input");
const output = document.getElementById("output");

input.addEventListener("input", analyze);

function analyze() {
  const text = input.value.trim();
  if (!text) {
    resetMetrics();
    return;
  }

  const words = text.match(/\b\w+\b/g) || [];
  document.getElementById("wordCount").textContent = words.length;

  const longWords = words.filter(w => w.length > 8).length;
  document.getElementById("longWords").textContent =
    Math.round((longWords / words.length) * 100) + "%";

  const passive = (text.match(/\b(was|were|is|are|been|being)\b\s+\w+ed\b/gi) || []).length;
  document.getElementById("passiveVoice").textContent =
    Math.min(100, passive * 10) + "%";

  const ease = Math.max(0, Math.min(100, 100 - (longWords * 2)));
  document.getElementById("readingEase").textContent = ease;
}

function simplify() {
  const original = input.value;
  if (!original) return;

  let simplified = original;
  let highlights = [];

  Object.entries(simplifyMap)
    .sort((a,b)=>b[0].length-a[0].length)
    .forEach(([from,to]) => {
      const regex = from.includes(" ")
        ? new RegExp(from, "gi")
        : new RegExp(`\\b${from}\\b`, "gi");

      simplified = simplified.replace(regex, match => {
        highlights.push({from: match, to});
        return `__${to}__`;
      });
    });

  highlights.forEach(h => {
    simplified = simplified.replace(
      `__${h.to}__`,
      `<span class="highlight">${h.to}</span>`
    );
  });

  output.innerHTML = simplified;
  output.style.display = "block";
}

function resetText() {
  output.style.display = "none";
}

function resetMetrics() {
  document.getElementById("wordCount").textContent = 0;
  document.getElementById("readingEase").textContent = "—";
  document.getElementById("longWords").textContent = "0%";
  document.getElementById("passiveVoice").textContent = "0%";
}
</script>
</body>
</html>